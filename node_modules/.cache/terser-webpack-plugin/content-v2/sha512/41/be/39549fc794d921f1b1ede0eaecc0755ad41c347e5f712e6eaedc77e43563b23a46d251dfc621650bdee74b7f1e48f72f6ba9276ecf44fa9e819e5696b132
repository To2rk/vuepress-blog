{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[185],{767:function(t,s,a){\"use strict\";a.r(s);var r=a(10),_=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[a(\"h2\",{attrs:{id:\"问题背景\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题背景\"}},[t._v(\"#\")]),t._v(\" \"),a(\"strong\",[t._v(\"问题背景\")])]),t._v(\" \"),a(\"p\",[t._v(\"树莓派上安装了Aria2的，并且启用了https，将域名\"),a(\"code\",[t._v(\"aria2.conimi.com\")]),t._v(\"解析到树莓派所在的局域网公网ip上，\"),a(\"code\",[t._v(\"树莓派所在的局域网ip为192.168.0.102\")]),t._v(\"，此局域网的公网ip为1.2.3.4。然后通过路由器转发端口，分别为\")]),t._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[t._v(\"80 端口 转发到 192.168.0.102 的 80 端口\\n443 端口 转发到 192.168.0.102 的 443 端口\\n6800 端口 转发到 192.168.0.102 的 6800 端口\\n\")])])]),a(\"p\",[t._v(\"然后通过公网ip可以访问http和https服务，并且可以通过6800端口连上，访问\"),a(\"code\",[t._v(\"https://aria2.conimi.com:6800/jsonrpc\")]),t._v(\" 会出现以下提示，说明此时配置RPC的证书也填写正确。\")]),t._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/aria2_frp_https_6800.png\",alt:\"aria2_frp_https_6800\"}})]),t._v(\" \"),a(\"p\",[t._v(\"通过frp实现了外网域名访问，实现方法可参考（https://conimi.com/archives/86/）\\n，但是始终无法通过6800端口连上，最终确定并不是证书问题，RPC相关证书设置为\"),a(\"code\",[t._v(\"aria2.conimi.com.cer和aria2.conimi.com.key\")]),t._v(\"是正确的，而是frp中转发端口时没有选择 \"),a(\"code\",[t._v(\"host_https_port = 6800\")]),t._v(\"，而是用了 \"),a(\"code\",[t._v(\"host_http_port = 6800\")]),t._v(\",最后才出现无法连接的问题。\\n访问\"),a(\"code\",[t._v(\"https://aria2.conimi.com:6800/jsonrpc\")]),t._v(\" 会出现以下提示，就说明6800端口未启用https\")]),t._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/aria2_frp_http_6800.png\",alt:\"aria2_frp_https_6800\"}})]),t._v(\" \"),a(\"h2\",{attrs:{id:\"问题解决\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题解决\"}},[t._v(\"#\")]),t._v(\" \"),a(\"strong\",[t._v(\"问题解决\")])]),t._v(\" \"),a(\"p\",[t._v(\"只需要将frps.ini中的\")]),t._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[t._v(\"host_http_port = 6800\\n\")])])]),a(\"p\",[t._v(\"改为\")]),t._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",[a(\"code\",[t._v(\"host_https_port = 6800\\n\")])])]),a(\"p\",[t._v(\"即可\")])])}),[],!1,null,null,null);s.default=_.exports}}]);","extractedComments":[]}