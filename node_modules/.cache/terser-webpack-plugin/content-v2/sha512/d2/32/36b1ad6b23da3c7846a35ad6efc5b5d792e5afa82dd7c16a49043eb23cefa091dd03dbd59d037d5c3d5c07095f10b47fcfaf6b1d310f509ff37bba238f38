{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{665:function(s,e,t){\"use strict\";t.r(e);var a=t(10),n=Object(a.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[t(\"h2\",{attrs:{id:\"_0x00-系统环境\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x00-系统环境\"}},[s._v(\"#\")]),s._v(\" \"),t(\"strong\",[s._v(\"0x00 系统环境\")])]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"系统：CentOS 7.4  64位\")]),s._v(\" \"),t(\"li\",[s._v(\"挂载云盘：GoogleDrive\")]),s._v(\" \"),t(\"li\",[s._v(\"已经成功安装了nextcloud，如果你还没有，这篇文章介绍了如何安装nextcloud\")]),s._v(\" \"),t(\"li\",[s._v(\"文章地址：\"),t(\"a\",{attrs:{href:\"https://conimi.com/archives/69\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://conimi.com/archives/69\"),t(\"OutboundLink\")],1)])]),s._v(\" \"),t(\"h2\",{attrs:{id:\"_0x01-下载rclone并配置\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x01-下载rclone并配置\"}},[s._v(\"#\")]),s._v(\" \"),t(\"strong\",[s._v(\"0x01 下载rclone并配置\")])]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"官网地址： \"),t(\"a\",{attrs:{href:\"https://rclone.org/downloads/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://rclone.org/downloads/\"),t(\"OutboundLink\")],1)])]),s._v(\" \"),t(\"ol\",[t(\"li\",[s._v(\"下载rclone\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"wget\")]),s._v(\" https://downloads.rclone.org/v1.45/rclone-v1.45-linux-amd64.zip\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"ol\",{attrs:{start:\"2\"}},[t(\"li\",[s._v(\"解压到  \"),t(\"code\",[s._v(\"/opt/\")]),s._v(\" 目录下 ,目录必须存在\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"unzip\")]),s._v(\" rclone-v1.45-linux-amd64.zip -d /opt/\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"ol\",{attrs:{start:\"3\"}},[t(\"li\",[s._v(\"运行配置文件\")])]),s._v(\" \"),t(\"p\",[s._v(\"先进入  \"),t(\"code\",[s._v(\"/opt/rclone-v1.45-linux-amd64/\")]),s._v(\"  目录,运行rclone\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" /opt/rclone-v1.45-linux-amd64/\\n./rclone config\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"ol\",{attrs:{start:\"4\"}},[t(\"li\",[s._v(\"选择新建 \"),t(\"code\",[s._v(\"remote\")]),s._v(\" ：输入n\")])]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/nextcloud-new-remote.png\",alt:\"nextcloud-new-remote\"}})]),s._v(\" \"),t(\"ol\",{attrs:{start:\"5\"}},[t(\"li\",[t(\"p\",[s._v(\"输入名字(随便取)： GoogleDrive\")])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"选择 \"),t(\"code\",[s._v(\"12\")]),s._v(\"，（注意：不同版本的rclone序号可能不一样，请仔细辨别）\")])])]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/nextcloud-select-GoogleDrive.png\",alt:\"nextcloud-select-GoogleDrive\"}})]),s._v(\" \"),t(\"ol\",{attrs:{start:\"7\"}},[t(\"li\",[s._v(\"接下来几项都是默认，直接回车即可\")])]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/nextcloud-select-default-1.png\",alt:\"nextcloud-select-default-1\"}})]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/nextcloud-select-default-2.png\",alt:\"nextcloud-select-default-2\"}})]),s._v(\" \"),t(\"ol\",{attrs:{start:\"8\"}},[t(\"li\",[s._v(\"接下来两项都选择 \"),t(\"code\",[s._v(\"n\")])])]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/nextcloud-advanced-auto-config.png\",alt:\"nextcloud-advanced-auto-config\"}})]),s._v(\" \"),t(\"ol\",{attrs:{start:\"9\"}},[t(\"li\",[t(\"p\",[s._v(\"将生成的链接复制到浏览器中打开，使用Google账号登录，点击允许，然后会生成一串代码，复制后输入命令行，回车\")])]),s._v(\" \"),t(\"li\",[t(\"p\",[s._v(\"是否team drive? 选择 \"),t(\"code\",[s._v(\"n\")])])])]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/nextcloud-select-team-drive.png\",alt:\"nextcloud-select-team-drive\"}})]),s._v(\" \"),t(\"ol\",{attrs:{start:\"11\"}},[t(\"li\",[s._v(\"最后两项\")])]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/nextcloud-rc-end-select.png\",alt:\"nextcloud-rc-end-select\"}})]),s._v(\" \"),t(\"h2\",{attrs:{id:\"_0x02-挂载\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x02-挂载\"}},[s._v(\"#\")]),s._v(\" \"),t(\"strong\",[s._v(\"0x02 挂载\")])]),s._v(\" \"),t(\"p\",[s._v(\"挂载Google Drive 到服务器上，用法：\"),t(\"code\",[s._v(\"rclone mount remote:path /path/to/mountpoint [flags]\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[s._v(\"/opt/rclone-v1.45-linux-amd64/./rclone \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"mount\")]),s._v(\" DriveName:Folder LocalFolder --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[t(\"strong\",[s._v(\"说明\")]),s._v(\"：\")]),s._v(\" \"),t(\"p\",[s._v(\"①\"),t(\"code\",[s._v(\"DriveName\")]),s._v(\"是第二步中填写的 name\")]),s._v(\" \"),t(\"p\",[s._v(\"②\"),t(\"code\",[s._v(\"Folder\")]),s._v(\" 是指谷歌云盘里的文件夹，如果需要将整个谷歌云盘挂载，填 /\")]),s._v(\" \"),t(\"p\",[s._v(\"③\"),t(\"code\",[s._v(\"LocalFolder\")]),s._v(\"为服务器上的本地文件夹，为了避免麻烦，这个文件夹最好放在NextCloud 的用户数据文件夹data下，否则，还需要修改用户组和权限，甚至可能在nextcloud网页端无法挂载成功\")]),s._v(\" \"),t(\"p\",[t(\"strong\",[s._v(\"特别注意\")]),s._v(\"：我最开始的数据目录路径为：\"),t(\"code\",[s._v(\"/home/wwwroot/cloud.conimi.com/data/\")]),s._v(\"\\n在  \"),t(\"code\",[s._v(\"/home/wwwroot/cloud.conimi.com/data/\")]),s._v(\" 目录下创建一个文件夹，用于存放rclone挂载的GoogleDrive，并给权限\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"mkdir\")]),s._v(\" /home/wwwroot/cloud.conimi.com/data/MyCloud\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"777\")]),s._v(\" /home/wwwroot/cloud.conimi.com/data/MyCloud\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"p\",[s._v(\"我的挂载命令为：\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[s._v(\"/opt/rclone-v1.45-linux-amd64/./rclone \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"mount\")]),s._v(\" GoogleDrive:/  /home/wwwroot/cloud.conimi.com/data/MyCloud --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"如果出现类似的错误：\"),t(\"code\",[s._v('Fatal error: failed to mount FUSE fs: fusermount: exec: \"fusermount\": executable file not found in $PATH')]),s._v(\"，安装fuse即可\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[s._v(\"yum \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" fuse\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"ul\",[t(\"li\",[s._v(\"如果没有出现错误信息的话，就是挂载成功了，可以新开一个窗口，输 \"),t(\"code\",[s._v(\"df -h\")]),s._v(\"   查看挂载情况\")])]),s._v(\" \"),t(\"h2\",{attrs:{id:\"_0x03-nextcloud增加外部存储\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x03-nextcloud增加外部存储\"}},[s._v(\"#\")]),s._v(\" \"),t(\"strong\",[s._v(\"0x03 nextcloud增加外部存储\")])]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"在配置的外部存储里面添加一个本地存储\")])]),s._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/nextcloud-External-storage.png\",alt:\"nextcloud-External-storage\"}})]),s._v(\" \"),t(\"p\",[s._v(\"①允许用户挂载外部存储勾上\")]),s._v(\" \"),t(\"p\",[s._v(\"②配置填的创建的 LocalFolderl路径\")]),s._v(\" \"),t(\"p\",[s._v(\"③如果前面出现上图所示绿色，表示挂载成功，否则请再仔细检查LocalFolder的路径\")]),s._v(\" \"),t(\"h2\",{attrs:{id:\"_0x04-开机自动挂载-centos\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x04-开机自动挂载-centos\"}},[s._v(\"#\")]),s._v(\" \"),t(\"strong\",[s._v(\"0x04 开机自动挂载（CentOS）\")])]),s._v(\" \"),t(\"p\",[s._v(\"在 \"),t(\"code\",[s._v(\"/usr/lib/systemd/system/\")]),s._v(\" 目录下创建一个 \"),t(\"code\",[s._v(\"rclone-mount.service\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"touch\")]),s._v(\" /usr/lib/systemd/system/rclone-mount.service \\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"内容如下，根据实际情况修改\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"Unit\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"Description\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"rclone\\n    \\n\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"Service\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"Environment\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'REMOTE_PATH=GoogleDrive:/'\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#GoogleDrive：/   表示  name：云盘文件夹路径，斜杠 / 表示将整个云盘挂载到本地，注意冒号\")]),s._v(\"\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"Environment\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'LOCAL_PATH=/home/wwwroot/cloud.conimi.com/data/MyCloud/'\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#挂载到服务器本地的路径\")]),s._v(\"\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"Type\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"simple\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"User\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"root\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ExecStart\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"/opt/rclone-v1.45-linux-amd64/./rclone \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"mount\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"${REMOTE_PATH}\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"${LOCAL_PATH}\")]),s._v(\" --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ExecStop\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"fusermount -qzu \"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"${LOCAL_PATH}\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"Restart\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"on-failure\\n    \\n\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"Install\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"WantedBy\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"multi-user.target\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),t(\"br\")])]),t(\"p\",[s._v(\"设置开机自启\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[s._v(\"systemctl \"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"enable\")]),s._v(\" rclone-mount.service\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"h2\",{attrs:{id:\"_0x05-参考资料\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x05-参考资料\"}},[s._v(\"#\")]),s._v(\" \"),t(\"strong\",[s._v(\"0x05 参考资料\")])]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"在Debian/Ubuntu上使用rclone挂载Google Drive网盘：\"),t(\"a\",{attrs:{href:\"https://www.moerats.com/archives/481/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://www.moerats.com/archives/481/\"),t(\"OutboundLink\")],1)]),s._v(\" \"),t(\"li\",[s._v(\"nextcloud如何挂载本地目录？：\"),t(\"a\",{attrs:{href:\"https://www.zhihu.com/question/267841887\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://www.zhihu.com/question/267841887\"),t(\"OutboundLink\")],1)]),s._v(\" \"),t(\"li\",[s._v(\"使用rclone开机自动挂载谷歌云盘Google drive：\"),t(\"a\",{attrs:{href:\"https://lab.bnxb.com/zhishi/27538.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://lab.bnxb.com/zhishi/27538.html\"),t(\"OutboundLink\")],1)])])])}),[],!1,null,null,null);e.default=n.exports}}]);","extractedComments":[]}