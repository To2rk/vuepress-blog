{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{624:function(s,a,n){\"use strict\";n.r(a);var t=n(10),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[n(\"h2\",{attrs:{id:\"_0x00-准备工作\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x00-准备工作\"}},[s._v(\"#\")]),s._v(\" 0x00 准备工作\")]),s._v(\" \"),n(\"h3\",{attrs:{id:\"一、-离线安装docker\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#一、-离线安装docker\"}},[s._v(\"#\")]),s._v(\" 一、 离线安装docker\")]),s._v(\" \"),n(\"h4\",{attrs:{id:\"方式一\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#方式一\"}},[s._v(\"#\")]),s._v(\" 方式一：\")]),s._v(\" \"),n(\"p\",[s._v(\"安装包和依赖包下载地址：https://download.docker.com/linux/centos/7/x86_64/stable/Packages/\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[s._v(\"yum \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" containerd.io-1.2.5-3.1.el7.x86_64.rpm\\nyum \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" docker-ce-cli-19.03.0-3.el7.x86_64.rpm\\nyum \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" container-selinux-2.119.2-1.911c772.el7_8.noarch.rpm\\nyum \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" docker-ce-19.03.0-3.el7.x86_64.rpm\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\")])]),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"service\")]),s._v(\" docker start\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\")])]),n(\"p\",[s._v(\"如果需要卸载某个rpm包\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"rpm\")]),s._v(\" -e docker-ce-selinux-17.03.0.ce-1.el7.centos.noarch.rpm\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\")])]),n(\"h4\",{attrs:{id:\"方式二\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#方式二\"}},[s._v(\"#\")]),s._v(\" 方式二：\")]),s._v(\" \"),n(\"p\",[s._v(\"在公网服务器上下载所有依赖\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#下载清华的镜像源文件\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"wget\")]),s._v(\" -O /etc/yum.repos.d/docker-ce.repo https://download.docker.com/linux/centos/docker-ce.repo\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sed\")]),s._v(\" -i \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'s+download.docker.com+mirrors.tuna.tsinghua.edu.cn/docker-ce+'\")]),s._v(\" /etc/yum.repos.d/docker-ce.repo\\n\\nyum update\\n\\nyum list docker-ce --showduplicates\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sort\")]),s._v(\" -r\\n\\nyum \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" --downloadonly --downloaddir\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"/root/falcon/docker/all/docker-19.03 docker-ce-19.03.8-3.el7 docker-ce-cli-19.03.8-3.el7\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),n(\"br\")])]),n(\"p\",[s._v(\"复制到内网目标服务器，安装\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[s._v(\"yum \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" *.rpm\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\")])]),n(\"h4\",{attrs:{id:\"方式三-不需要解决依赖问题\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#方式三-不需要解决依赖问题\"}},[s._v(\"#\")]),s._v(\" 方式三：（不需要解决依赖问题）\")]),s._v(\" \"),n(\"ol\",[n(\"li\",[s._v(\"下载源码二进制包：https://download.docker.com/linux/\")])]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"docker_version\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"19.03\")]),s._v(\".5\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"curl\")]),s._v(\" -Lo docker.tgz https://download.docker.com/linux/static/stable/x86_64/docker-\"),n(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"${docker_version}\")]),s._v(\".tgz\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"tar\")]),s._v(\" --strip-components\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1\")]),s._v(\" -xvzf docker-19.03.3.tgz -C /usr/bin\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 解压出8个文件(按时间好找)\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#    docker/docker-init\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#    docker/docker\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#    docker/dockerd\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#    docker/runc\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#    docker/ctr\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#    docker/docker-proxy\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#    docker/containerd\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#    docker/containerd-shim\")]),s._v(\"\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),n(\"br\")])]),n(\"ol\",{attrs:{start:\"2\"}},[n(\"li\",[s._v(\"创建docker.service\")])]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /usr/lib/systemd/system/docker.service   \\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 内容为\")]),s._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"Unit\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"Description\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"Docker Application Container Engine\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"Documentation\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"https://docs.docker.com\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"After\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"network.target\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"Service\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"Type\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"notify\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# the default is not to use systemd for cgroups because the delegate issues still\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# exists and systemd currently does not support the cgroup feature set required\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# for containers run by docker\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ExecStart\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"/usr/bin/dockerd\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ExecReload\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"/bin/kill -s HUP \"),n(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$MAINPID\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Having non-zero Limit*s causes performance problems due to accounting overhead\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# in the kernel. We recommend using cgroups to do container-local accounting.\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"LimitNOFILE\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"infinity\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"LimitNPROC\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"infinity\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"LimitCORE\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"infinity\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Uncomment TasksMax if your systemd version supports it.\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Only systemd 226 and above support this version.\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#TasksMax=infinity\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"TimeoutStartSec\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# set delegate yes so that systemd does not reset the cgroups of docker containers\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"Delegate\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"yes\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# kill only the docker process, not all processes in the cgroup\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"KillMode\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"process\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"Install\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"WantedBy\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"multi-user.target\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"21\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"22\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"23\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"24\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"25\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"26\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"27\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"28\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"29\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"30\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"31\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"32\")]),n(\"br\")])]),n(\"ol\",{attrs:{start:\"3\"}},[n(\"li\",[s._v(\"创建docker.daemon(可跳过)\")])]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"mkdir\")]),s._v(\" /etc/docker\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /etc/docker/daemon.json\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\")])]),n(\"p\",[s._v(\"内容如下\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-json line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token property\"}},[s._v('\"registry-mirrors\"')]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\":\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"http://373a6594.m.daocloud.io\"')]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token property\"}},[s._v('\"insecure-registries\"')]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\":\")]),s._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"127.0.0.1\"')]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\",\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token property\"}},[s._v('\"graph\"')]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\":\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"/var/lib/docker\"')]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),n(\"br\")])]),n(\"ol\",{attrs:{start:\"4\"}},[n(\"li\",[s._v(\"启动docker服务\")])]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[s._v(\"systemctl \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"enable\")]),s._v(\" docker.service\\nsystemctl restart docker.service\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\")])]),n(\"h3\",{attrs:{id:\"二、-保存镜像\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#二、-保存镜像\"}},[s._v(\"#\")]),s._v(\" 二、 保存镜像\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[s._v(\"docker pull mysql:5.7\\ndocker save -o mysql:5.7.tar mysql:5.7\\n\\ndocker pull redis:4-alpine3.8\\ndocker save -o redis:4-alpine3.8.tar redis:4-alpine3.8\\n\\ndocker pull openfalcon/falcon-plus:v0.3\\ndocker save -o falcon-plus:v0.3.tar openfalcon/falcon-plus:v0.3\\n\\ndocker pull openfalcon/falcon-dashboard:v0.2.1\\ndocker save -o falcon-dashboard:v0.2.1.tar openfalcon/falcon-dashboard:v0.2.1\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),n(\"br\")])]),n(\"h3\",{attrs:{id:\"三、-载入镜像\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#三、-载入镜像\"}},[s._v(\"#\")]),s._v(\" 三、 载入镜像\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[s._v(\"docker load --input mysql5.7.tar\\ndocker load --input redis_4-alpine3.8.tar\\ndocker load --input falcon-plus_v0.3.tar\\ndocker load --input falcon-dashboard_v0.2.1.tar\\n\\ndocker image \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ls\")]),s._v(\"\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\")])]),n(\"h2\",{attrs:{id:\"_0x01-启动服务\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x01-启动服务\"}},[s._v(\"#\")]),s._v(\" 0x01 启动服务\")]),s._v(\" \"),n(\"h3\",{attrs:{id:\"一、-启动mysql容器\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#一、-启动mysql容器\"}},[s._v(\"#\")]),s._v(\" 一、 启动mysql容器\")]),s._v(\" \"),n(\"blockquote\",[n(\"p\",[s._v(\"注意：需要先在能联网的主机上获得\"),n(\"code\",[s._v(\"tmp\")]),s._v(\"目录\")])]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" /root/falcon/tmp/\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"git\")]),s._v(\" clone --depth\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"1\")]),s._v(\" https://github.com/open-falcon/falcon-plus\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\")])]),n(\"p\",[s._v(\"然后可以开始\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"## start mysql in container\")]),s._v(\"\\n\\ndocker run -itd \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n    --name falcon-mysql \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n    -v /root/falcon/work/mysql-data:/var/lib/mysql \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n    -e \"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"MYSQL_ROOT_PASSWORD\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"test123456 \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n    -p \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"3323\")]),s._v(\":3306 \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n    mysql:5.7\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"## init mysql table before the first running\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"## 运行过就不要再次运行\")]),s._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" /root/falcon/tmp/falcon-plus/ \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"for\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token for-or-select variable\"}},[s._v(\"x\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"in\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[n(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"`\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ls\")]),s._v(\" ./scripts/mysql/db_schema/*.sql\"),n(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"`\")])]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"do\")]),s._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" init mysql table \"),n(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$x\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"..\")]),s._v(\".\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n    docker \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"exec\")]),s._v(\" -i falcon-mysql mysql -P \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"3323\")]),s._v(\" -uroot -ptest123456 \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"<\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$x\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"done\")]),s._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"rm\")]),s._v(\" -rf /root/falcon/tmp/falcon-plus/\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),n(\"br\")])]),n(\"h3\",{attrs:{id:\"二、-启动redis容器\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#二、-启动redis容器\"}},[s._v(\"#\")]),s._v(\" 二、 启动redis容器\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[s._v(\"docker run --name falcon-redis -p \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"6380\")]),s._v(\":6379 -d redis:4-alpine3.8\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\")])]),n(\"h3\",{attrs:{id:\"三、-启动falcon容器\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#三、-启动falcon容器\"}},[s._v(\"#\")]),s._v(\" 三、 启动falcon容器\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"## run falcon-plus container\")]),s._v(\"\\n\\ndocker run -itd --name falcon-plus \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        --link\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"falcon-mysql:db.falcon \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        --link\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"falcon-redis:redis.falcon \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -p \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"8433\")]),s._v(\":8433 \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -p \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"8040\")]),s._v(\":8080 \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -p \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"6030\")]),s._v(\":6030 \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -p \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"6031\")]),s._v(\":6031 \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -e \"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"MYSQL_PORT\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"root:test123456@tcp\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),s._v(\"db.falcon:3306\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -e \"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"REDIS_PORT\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"redis.falcon:6379  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -v /root/falcon/work/open-falcon/data:/open-falcon/data \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -v /root/falcon/work/open-falcon/logs:/open-falcon/logs \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        openfalcon/falcon-plus:v0.3\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"## start falcon backend modules, such as graph,api,etc.\")]),s._v(\"\\ndocker \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"exec\")]),s._v(\" falcon-plus \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sh\")]),s._v(\" ctrl.sh start \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        graph hbs judge transfer nodata aggregator agent gateway api alarm\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),n(\"br\")])]),n(\"h3\",{attrs:{id:\"四、-在容器中启动-falcon-dashboard\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#四、-在容器中启动-falcon-dashboard\"}},[s._v(\"#\")]),s._v(\" 四、 在容器中启动 falcon-dashboard\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[s._v(\"docker run -itd --name falcon-dashboard \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -p \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"8041\")]),s._v(\":8081 \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        --link\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"falcon-mysql:db.falcon \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        --link\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"falcon-plus:api.falcon \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -e \"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"API_ADDR\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"http://api.falcon:8080/api/v1 \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -e \"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"PORTAL_DB_HOST\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"db.falcon \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -e \"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"PORTAL_DB_PORT\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"3306\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -e \"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"PORTAL_DB_USER\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"root \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -e \"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"PORTAL_DB_PASS\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"test123456 \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -e \"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"PORTAL_DB_NAME\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"falcon_portal \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -e \"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ALARM_DB_HOST\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"db.falcon \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -e \"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ALARM_DB_PORT\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"3306\")]),s._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -e \"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ALARM_DB_USER\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"root \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -e \"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ALARM_DB_PASS\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"test123456 \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -e \"),n(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ALARM_DB_NAME\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"alarms \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n        -w /open-falcon/dashboard openfalcon/falcon-dashboard:v0.2.1  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'./control startfg'\")]),s._v(\"\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),n(\"br\")])]),n(\"h3\",{attrs:{id:\"五、-其它命令\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#五、-其它命令\"}},[s._v(\"#\")]),s._v(\" 五、 其它命令\")]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"## or you can just start/stop/restart specific module as: \")]),s._v(\"\\ndocker \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"exec\")]),s._v(\" falcon-plus \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sh\")]),s._v(\" ctrl.sh start/stop/restart xxx\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"## check status of backend modules\")]),s._v(\"\\ndocker \"),n(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"exec\")]),s._v(\" falcon-plus ./open-falcon check\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"## or you can check logs at /root/falcon/work/open-falcon/logs/ in your host\")]),s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ls\")]),s._v(\" -l /root/falcon/work/open-falcon/logs/\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),n(\"br\")])]),n(\"h2\",{attrs:{id:\"_0x02-参考资料\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x02-参考资料\"}},[s._v(\"#\")]),s._v(\" 0x02 参考资料\")]),s._v(\" \"),n(\"ul\",[n(\"li\",[s._v(\"二进制安装docker：\"),n(\"a\",{attrs:{href:\"https://www.kancloud.cn/willseecloud/docker-handbook/1430558\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://www.kancloud.cn/willseecloud/docker-handbook/1430558\"),n(\"OutboundLink\")],1)]),s._v(\" \"),n(\"li\",[s._v(\"离线安装docker（一键式安装）：\"),n(\"a\",{attrs:{href:\"https://www.jianshu.com/p/64a470628e49\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://www.jianshu.com/p/64a470628e49\"),n(\"OutboundLink\")],1)]),s._v(\" \"),n(\"li\",[s._v(\"Docker镜像保存为文件及从本地文件导入镜像的方法：\"),n(\"a\",{attrs:{href:\"https://m.yisu.com/zixun/20779.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://m.yisu.com/zixun/20779.html\"),n(\"OutboundLink\")],1)]),s._v(\" \"),n(\"li\",[s._v(\"使用Docker安装falcon-plus：\"),n(\"a\",{attrs:{href:\"https://github.com/open-falcon/falcon-plus/tree/master/docker\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://github.com/open-falcon/falcon-plus/tree/master/docker\"),n(\"OutboundLink\")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);","extractedComments":[]}