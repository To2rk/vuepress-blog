{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[192],{740:function(s,a,n){\"use strict\";n.r(a);var e=n(10),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[n(\"h2\",{attrs:{id:\"_0x00-需求\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x00-需求\"}},[s._v(\"#\")]),s._v(\" 0x00 需求\")]),s._v(\" \"),n(\"blockquote\",[n(\"p\",[s._v(\"本地某程序P要向nico.cc:1231发送数据包，我们希望该数据包首先在本地进行加密，再通过中转机B：2.2.2.2进行转发后发出\")])]),s._v(\" \"),n(\"h2\",{attrs:{id:\"_0x01-准备工作\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x01-准备工作\"}},[s._v(\"#\")]),s._v(\" 0x01 准备工作\")]),s._v(\" \"),n(\"ul\",[n(\"li\",[s._v(\"本地机（程序P所在宿主机）安装GOST服务\")]),s._v(\" \"),n(\"li\",[s._v(\"中转机（2.2.2.2）安装GOST服务\")])]),s._v(\" \"),n(\"h2\",{attrs:{id:\"_0x02-本地机配置\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x02-本地机配置\"}},[s._v(\"#\")]),s._v(\" 0x02 本地机配置\")]),s._v(\" \"),n(\"ul\",[n(\"li\",[s._v(\"本文通过docker来安装gost，并结合docker-compose使用，docker和docker-compose安装过程见：\"),n(\"a\",{attrs:{href:\"https://conimi.com/archives/104/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://conimi.com/archives/104/\"),n(\"OutboundLink\")],1)])]),s._v(\" \"),n(\"ol\",[n(\"li\",[s._v(\"构建工作目录\")])]),s._v(\" \"),n(\"div\",{staticClass:\"language- line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[s._v(\"workdir\\n  - compose\\n    -- gost\\n      *** Dockerfile\\n\\n# 约定：\\n#     - 表示目录\\n#     * 表示文件\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),n(\"br\")])]),n(\"ol\",{attrs:{start:\"2\"}},[n(\"li\",[s._v(\"编写gost的Dockerfile\")])]),s._v(\" \"),n(\"div\",{staticClass:\"language-docker line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-docker\"}},[n(\"code\",[s._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token instruction\"}},[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"FROM\")]),s._v(\" ginuerzh/gost\")]),s._v(\"\\n\\n\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\")])]),n(\"ol\",{attrs:{start:\"3\"}},[n(\"li\",[s._v(\"编写docker-compose.yml\")])]),s._v(\" \"),n(\"div\",{staticClass:\"language-docker line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-docker\"}},[n(\"code\",[s._v('version: \"3\"\\n\\nservices:\\n  gost:\\n    build:\\n      context: .\\n      dockerfile: ./compose/gost/Dockerfile\\n    container_name: gost\\n    command: \\n      - -L=tcp://:2333/0:0\\n      - -F=http+tls://2.2.2.2:3456\\n\\n    ports: \\n      - \"2333:2333\"\\n')])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),n(\"br\")])]),n(\"ol\",{attrs:{start:\"4\"}},[n(\"li\",[s._v(\"启动容器\")])]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[s._v(\"docker-compose up --build\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"## 或者让容器后台运行\")]),s._v(\"\\n\\ndocker-compose up --build -d\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\")])]),n(\"h2\",{attrs:{id:\"_0x02-中转机配置\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_0x02-中转机配置\"}},[s._v(\"#\")]),s._v(\" 0x02 中转机配置\")]),s._v(\" \"),n(\"ol\",[n(\"li\",[s._v(\"构建工作目录\")])]),s._v(\" \"),n(\"div\",{staticClass:\"language- line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[s._v(\"workdir\\n  - compose\\n    -- gost\\n      *** Dockerfile\\n\\n# 约定：\\n#     - 表示目录\\n#     * 表示文件\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),n(\"br\")])]),n(\"ol\",{attrs:{start:\"2\"}},[n(\"li\",[s._v(\"编写gost的Dockerfile\")])]),s._v(\" \"),n(\"div\",{staticClass:\"language-docker line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-docker\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token instruction\"}},[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"FROM\")]),s._v(\" ginuerzh/gost\")]),s._v(\"\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\")])]),n(\"ol\",{attrs:{start:\"3\"}},[n(\"li\",[s._v(\"编写docker-compose.yml\")])]),s._v(\" \"),n(\"div\",{staticClass:\"language-docker line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-docker\"}},[n(\"code\",[s._v('version: \"3\"\\n\\nservices:\\n  gost:\\n    build:\\n      context: .\\n      dockerfile: ./compose/gost/Dockerfile\\n    container_name: gost\\n    command: \\n      - -L=tcp://:3456/0:0\\n      - -F=forward+tcp://nico.cc:1231\\n\\n    ports: \\n      - \"3456:3456\"\\n')])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),n(\"br\")])]),n(\"ol\",{attrs:{start:\"4\"}},[n(\"li\",[s._v(\"启动容器\")])]),s._v(\" \"),n(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[n(\"code\",[s._v(\"docker-compose up --build\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"## 或者让容器后台运行\")]),s._v(\"\\n\\ndocker-compose up --build -d\\n\")])]),s._v(\" \"),n(\"div\",{staticClass:\"line-numbers-wrapper\"},[n(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),n(\"br\"),n(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),n(\"br\")])])])}),[],!1,null,null,null);a.default=t.exports}}]);","extractedComments":[]}