{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{636:function(e,s,a){\"use strict\";a.r(s);var t=a(10),n=Object(t.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[a(\"h2\",{attrs:{id:\"问题出现\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题出现\"}},[e._v(\"#\")]),e._v(\" 问题出现\")]),e._v(\" \"),a(\"p\",[e._v(\"安装完成docker之后，一直无法启动，如下所示\")]),e._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[e._v(\"┌──(sakura㉿Sakura)-[/mnt/c/Users/Torrk]\\n└─$ sudo service docker start\\nStarting Docker: docker.\\n┌──(sakura㉿Sakura)-[/mnt/c/Users/Torrk]\\n└─$ sudo service docker status\\nDocker is not running ... failed!\\n\")])]),e._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[e._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"6\")]),a(\"br\")])]),a(\"p\",[e._v(\"运行 \"),a(\"code\",[e._v(\"dockerd\")]),e._v(\" 命令时，会出现如下所示错误\")]),e._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[e._v('…………\\n…………\\ntarget     prot opt source               destination`, error: exit status 4\\nINFO[2020-12-14T15:29:32.492519400+08:00] stopping event stream following graceful shutdown  error=\"<nil>\" module=libcontainerd namespace=moby\\nINFO[2020-12-14T15:29:32.492791800+08:00] stopping event stream following graceful shutdown  error=\"context canceled\" module=libcontainerd namespace=plugins.moby\\nINFO[2020-12-14T15:29:32.492812600+08:00] stopping healthcheck following graceful shutdown  module=libcontainerd\\nfailed to start daemon: Error initializing network controller: error obtaining controller instance: failed to create NAT chain DOCKER: iptables failed: iptables --wait -t nat -N DOCKER: iptables v1.8.6 (nf_tables):  CHAIN_ADD failed (No such file or directory): chain PREROUTING\\n (exit status 4)\\nWARN[2020-12-14T15:29:33.493689900+08:00] grpc: addrConn.createTransport failed to connect to {unix:///var/run/docker/containerd/containerd.sock  <nil> 0 <nil>}. Err :connection error: desc = \"transport: Error while dialing dial unix:///var/run/docker/containerd/containerd.sock: timeout\". Reconnecting...  module=grpc\\n')])]),e._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[e._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"9\")]),a(\"br\")])]),a(\"p\",[e._v(\"在运行以下命令时，docker又可以正常运行\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"!\")]),e._v(\"dockerd --iptables\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"=\")]),e._v(\"false\\n\")])]),e._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[e._v(\"1\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"解决方法\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#解决方法\"}},[e._v(\"#\")]),e._v(\" 解决方法\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"sudo\")]),e._v(\" update-alternatives --set iptables /usr/sbin/iptables-legacy\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"sudo\")]),e._v(\" update-alternatives --set ip6tables /usr/sbin/ip6tables-legacy\\n\")])]),e._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[e._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"2\")]),a(\"br\")])]),a(\"p\",[e._v(\"然后再次尝试启动docker，查看docker状态\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"service\")]),e._v(\" docker start\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"service\")]),e._v(\" docker status\\n\")])]),e._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[e._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"2\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"参考资料\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考资料\"}},[e._v(\"#\")]),e._v(\" 参考资料\")]),e._v(\" \"),a(\"ul\",[a(\"li\",[e._v(\"Failing to start dockerd: failed to create NAT chain DOCKER：\"),a(\"a\",{attrs:{href:\"https://forums.docker.com/t/failing-to-start-dockerd-failed-to-create-nat-chain-docker/78269/4\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"https://forums.docker.com/t/failing-to-start-dockerd-failed-to-create-nat-chain-docker/78269/4\"),a(\"OutboundLink\")],1)]),e._v(\" \"),a(\"li\",[e._v(\"Run Docker on Ubuntu on Windows Subsystem for Linux：\"),a(\"a\",{attrs:{href:\"https://stackoverflow.com/questions/48008675/run-docker-on-ubuntu-on-windows-subsystem-for-linux/64261697#64261697\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"https://stackoverflow.com/questions/48008675/run-docker-on-ubuntu-on-windows-subsystem-for-linux/64261697#64261697\"),a(\"OutboundLink\")],1)])])])}),[],!1,null,null,null);s.default=n.exports}}]);","extractedComments":[]}