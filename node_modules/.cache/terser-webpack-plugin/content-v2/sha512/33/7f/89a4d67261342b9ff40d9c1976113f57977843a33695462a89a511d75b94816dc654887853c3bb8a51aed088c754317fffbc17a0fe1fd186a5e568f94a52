{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{638:function(s,a,t){\"use strict\";t.r(a);var e=t(10),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[t(\"blockquote\",[t(\"p\",[s._v(\"声明：本教程仅用于交流学习，请勿用作它用途。\")])]),s._v(\" \"),t(\"h2\",{attrs:{id:\"安装ss5\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#安装ss5\"}},[s._v(\"#\")]),s._v(\" \"),t(\"strong\",[s._v(\"安装SS5\")])]),s._v(\" \"),t(\"ol\",[t(\"li\",[s._v(\"安装ss5所需依赖包\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[s._v(\"yum \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" gcc openldap-devel pam-devel openssl-devel\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"ol\",{attrs:{start:\"2\"}},[t(\"li\",[s._v(\"下载安装包并解压\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"wget\")]),s._v(\" http://jaist.dl.sourceforge.net/project/ss5/ss5/3.8.9-8/ss5-3.8.9-8.tar.gz\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"tar\")]),s._v(\" -zxvf ss5-3.8.9-8.tar.gz\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"p\",[s._v(\"本地备份：\"),t(\"a\",{attrs:{href:\"https://conimi.com/softs/Linux/ss5/ss5-3.8.9-8.tar.gz\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"https://conimi.com/softs/Linux/ss5/ss5-3.8.9-8.tar.gz\"),t(\"OutboundLink\")],1)]),s._v(\" \"),t(\"ol\",{attrs:{start:\"3\"}},[t(\"li\",[s._v(\"配置并安装\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" ss5-3.8.9/ \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" ./configure\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"make\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"&&\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"make\")]),s._v(\"  \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"ol\",{attrs:{start:\"4\"}},[t(\"li\",[s._v(\"修改\"),t(\"code\",[s._v(\"ss5.conf\")])])]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /etc/opt/ss5/ss5.conf\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"将\"),t(\"code\",[s._v(\"/etc/opt/ss5/ss5.conf\")]),s._v(\"中的 \"),t(\"code\",[s._v(\"auth段\")]),s._v(\" 和 \"),t(\"code\",[s._v(\"permit段\")]),s._v(\" 改为：\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[s._v(\"auth段\\n\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#      SHost           SPort           Authentication\")]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#\")]),s._v(\"\\n    auth    \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0.0\")]),s._v(\".0.0/0               -               u\\n\\npermit段\\n\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#      Auth     SHost           SPort   DHost           DPort   Fixup   Group   Band    ExpDate\")]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#\")]),s._v(\"\\n    permit u       \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0.0\")]),s._v(\".0.0/0       -       \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0.0\")]),s._v(\".0.0/0       -       -       -       -       -\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\")])]),t(\"p\",[s._v(\"5.添加用户和密码\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /etc/opt/ss5/ss5.passwd\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"编辑 \"),t(\"code\",[s._v(\"/etc/opt/ss5/ss5.passwd\")]),s._v(\" ，\\n一行一个账号，用户名和密码之间用空格间隔\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[s._v(\"user1 \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"12345678\")]),s._v(\"\\nuser2 \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"123456\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"p\",[s._v(\"6.更改端口\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /etc/sysconfig/ss5\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"编辑\"),t(\"code\",[s._v(\"/etc/sysconfig/ss5\")]),s._v(\"，添加一行，-b后面的参数代表监听的ip地址和端口号,-u 后面的参数表示本地计算机以哪个账户连接\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# Add startup option here\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"SS5_OPTS\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\" -u root -b 0.0.0.0:2333\"')]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"p\",[s._v(\"7.添加权限并开机自启\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" +x /etc/init.d/ss5\\nsystemctl \"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"enable\")]),s._v(\" ss5\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"h2\",{attrs:{id:\"可能出现的问题\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#可能出现的问题\"}},[s._v(\"#\")]),s._v(\" \"),t(\"strong\",[s._v(\"可能出现的问题\")])]),s._v(\" \"),t(\"p\",[s._v(\"1.使用命令s\"),t(\"code\",[s._v(\"systemctl status ss5 -l\")]),s._v(\" 出现以下错误，先创建 /var/run/ss5 目录后再启动 ss5\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[s._v(\"Can’t create pid \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"file\")]),s._v(\" /var/run/ss5/ss5.pid\\nCan’t unlink pid \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"file\")]),s._v(\" /var/run/ss5/ss5.pid\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"p\",[s._v(\"由于每次重启后\"),t(\"code\",[s._v(\"/var/run/ss5/\")]),s._v(\"文件夹都会被删除，所以需要修改\"),t(\"code\",[s._v(\"/etc/init.d/ss5\")]),s._v(\"，在\"),t(\"code\",[s._v(\"start\")]),s._v(\"段加上一句 \"),t(\"code\",[s._v(\"mkdir /var/run/ss5/\")]),s._v(\",将\"),t(\"code\",[s._v(\"stop\")]),s._v(\"段的\"),t(\"code\",[s._v(\"rm -f /var/run/ss5/ss5.pid\")]),s._v(\"改为\"),t(\"code\",[s._v(\"rm -rf /var/run/ss5/\")])]),s._v(\" \"),t(\"p\",[s._v(\"2.如果仍然无法连接\")]),s._v(\" \"),t(\"p\",[s._v(\"检查防火墙设置\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[s._v(\"systemctl status iptables\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"如果防火墙处于开启状态，放行端口，例如2333，编辑\"),t(\"code\",[s._v(\"/etc/sysconfig/iptables\")]),s._v(\"，加上一句\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /etc/sysconfig/iptables\\n-A INPUT -p tcp -m state --state NEW -m tcp --dport \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"2333\")]),s._v(\" -j ACCEPT\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"p\",[s._v(\"重启防火墙\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"service\")]),s._v(\" iptables restart\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"注意：\"),t(\"code\",[s._v(\"仅支持CentOS，Debian下编译会报错\")])]),s._v(\" \"),t(\"h2\",{attrs:{id:\"参考资料\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考资料\"}},[s._v(\"#\")]),s._v(\" 参考资料\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"安装 SS5 SOCKS5 代理服务器，多进程/多IP地址出口/多端口：\"),t(\"a\",{attrs:{href:\"http://www.huangzhong.ca/zh/ss5-multiple-instances-ips-centos/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"http://www.huangzhong.ca/zh/ss5-multiple-instances-ips-centos/\"),t(\"OutboundLink\")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);","extractedComments":[]}