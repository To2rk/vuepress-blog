{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{670:function(a,s,t){\"use strict\";t.r(s);var e=t(10),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":a.$parent.slotKey}},[t(\"h2\",{attrs:{id:\"环境\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#环境\"}},[a._v(\"#\")]),a._v(\" \"),t(\"strong\",[a._v(\"环境\")])]),a._v(\" \"),t(\"blockquote\",[t(\"p\",[a._v(\"系统：CentOS 7\"),t(\"br\"),a._v(\"\\nWEB环境：LNMP搭建\")])]),a._v(\" \"),t(\"h2\",{attrs:{id:\"问题及解决方法\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题及解决方法\"}},[a._v(\"#\")]),a._v(\" \"),t(\"strong\",[a._v(\"问题及解决方法\")])]),a._v(\" \"),t(\"h3\",{attrs:{id:\"问题一\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题一\"}},[a._v(\"#\")]),a._v(\" \"),t(\"strong\",[a._v(\"问题一：\")])]),a._v(\" \"),t(\"p\",[t(\"code\",[a._v(\"PHP 的设置似乎有问题, 无法获取系统环境变量. 使用 getenv(\\\\”PATH\\\\”) 测试时仅返回空结果.\")])]),a._v(\" \"),t(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),t(\"ul\",[t(\"li\",[a._v(\"在PHP-FPM配置文件：\"),t(\"code\",[a._v(\"/usr/local/php/etc/php-fpm.conf\")]),a._v(\" 最后加上一句：\")])]),a._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[a._v(\"env\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),t(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[a._v(\"PATH\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" /usr/local/bin:/usr/bin:/bin:/usr/local/php/bin\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"问题二\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题二\"}},[a._v(\"#\")]),a._v(\" \"),t(\"strong\",[a._v(\"问题二：\")])]),a._v(\" \"),t(\"p\",[t(\"code\",[a._v('未找到 PHP 的 \"fileinfo\" 模块。强烈推荐启用该模块，从而获得更好的 MIME 类型探测结果。')])]),a._v(\" \"),t(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),t(\"h4\",{attrs:{id:\"情况一-未安装lnmp环境\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#情况一-未安装lnmp环境\"}},[a._v(\"#\")]),a._v(\" 情况一：未安装LNMP环境\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[t(\"p\",[a._v(\"找到 \"),t(\"code\",[a._v(\"/root/lnmp1.5/include/php.sh\")]),a._v(\" 文件\")])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"将\"),t(\"code\",[a._v(\"php.sh\")]),a._v(\"中的 \"),t(\"code\",[a._v(\"with_fileinfo='--disable-fileinfo'\")]),a._v(\" 改为 \"),t(\"code\",[a._v(\"with_fileinfo='--enable-fileinfo'\")])])]),a._v(\" \"),t(\"li\",[t(\"p\",[a._v(\"再执行安装脚本\")])])]),a._v(\" \"),t(\"h4\",{attrs:{id:\"情况二-已经安装了lnmp环境\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#情况二-已经安装了lnmp环境\"}},[a._v(\"#\")]),a._v(\" \"),t(\"em\",[a._v(\"情况二：已经安装了LNMP环境\")])]),a._v(\" \"),t(\"p\",[a._v(\"LNMP1.5以上版本\")]),a._v(\" \"),t(\"p\",[a._v(\"修改lnmp安装包目录下的 \"),t(\"code\",[a._v(\"lnmp.conf\")]),a._v(\" 文件，将\"),t(\"code\",[a._v(\"Enable_PHP_Fileinfo=’n’\")]),a._v(\" 中的n改成y保存，再执行 \"),t(\"code\",[a._v(\"./upgrade.sh php\")]),a._v(\" 升级PHP就会安装好fileinfo模块。（无论哪个版本的LNMP，建议还是使用下面这种方式，因为用这种方式把我网站都搞炸了，虽然我也不知道原因）\")]),a._v(\" \"),t(\"p\",[a._v(\"LNMP1.4及以下\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[a._v(\"解压已安装的PHP版本\")])]),a._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"tar\")]),a._v(\" -jxvf /root/lnmp1.5/src/php-7.0.30.tar.bz2\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\")])]),t(\"ol\",{attrs:{start:\"2\"}},[t(\"li\",[a._v(\"进入解压目录执行命令\")])]),a._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[a._v(\"cd\")]),a._v(\" /root/lnmp1.5/src/php-7.0.30/ext/fileinfo/\\n/usr/local/php/bin/phpize\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\")])]),t(\"ol\",{attrs:{start:\"3\"}},[t(\"li\",[a._v(\"编译和安装\")])]),a._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[a._v(\"./configure --with-php-config\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\"/usr/local/php/bin/php-config\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"make\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"&&\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"make\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"install\")]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\")])]),t(\"ol\",{attrs:{start:\"4\"}},[t(\"li\",[a._v(\"修改 \"),t(\"code\",[a._v(\"/usr/local/php/etc/\")]),a._v(\" 目录下的 \"),t(\"code\",[a._v(\"php.ini\")])])]),a._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"vim\")]),a._v(\" /usr/local/php/etc/php.ini\\n    \\n第一行加上：\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[a._v(\"extension\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"fileinfo.so\"')]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"问题三\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题三\"}},[a._v(\"#\")]),a._v(\" \"),t(\"strong\",[a._v(\"问题三：\")])]),a._v(\" \"),t(\"p\",[t(\"code\",[a._v(\"内存缓存未配置，为了提升使用体验，请尽量配置内存缓存\")])]),a._v(\" \"),t(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[a._v(\"安装\"),t(\"code\",[a._v(\"APCu\")])])]),a._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[a._v(\"cd\")]),a._v(\" /root/lnmp1.5\\n./addons.sh \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"install\")]),a._v(\" apcu\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\")])]),t(\"ol\",{attrs:{start:\"2\"}},[t(\"li\",[a._v(\"安装完成后编辑 \"),t(\"code\",[a._v(\"/home/wwwroot/cloud.yourdomain.com/config/config.php\")]),a._v(\" 文件，加上\")])]),a._v(\" \"),t(\"div\",{staticClass:\"language-php line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-php\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token string single-quoted-string\"}},[a._v(\"'memcache.local'\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=>\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string single-quoted-string\"}},[a._v(\"'\\\\OC\\\\Memcache\\\\APCu'\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"问题四\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题四\"}},[a._v(\"#\")]),a._v(\" \"),t(\"strong\",[a._v(\"问题四：\")])]),a._v(\" \"),t(\"p\",[t(\"code\",[a._v(\"PHP 的 OPcache 模块未载入。推荐开启获得更好的性能。\")])]),a._v(\" \"),t(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[a._v(\"安装OPcahe\")])]),a._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[a._v(\"cd\")]),a._v(\" /root/lnmp1.5\\n./addons.sh \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"install\")]),a._v(\" opcache\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\")])]),t(\"ol\",{attrs:{start:\"2\"}},[t(\"li\",[a._v(\"配置OPcahe\")])]),a._v(\" \"),t(\"p\",[a._v(\"LNMP1.4后，添加扩展已经不再修改php.ini，而是单独的 \"),t(\"code\",[a._v(\"/usr/local/php/conf.d/004-opcache.ini\")]),a._v(\"，nextcloud推荐配置如下\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-ini line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-ini\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token header\"}},[t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),t(\"span\",{pre:!0,attrs:{class:\"token section-name selector\"}},[a._v(\"Zend Opcache\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")])]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"zend_extension\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v('\"'),t(\"span\",{pre:!0,attrs:{class:\"token inner-value\"}},[a._v(\"opcache.so\")]),a._v('\"')]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"opcache.memory_consumption\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v(\"128\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"opcache.interned_strings_buffer\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v(\"8\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"opcache.max_accelerated_files\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v(\"10000\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"opcache.revalidate_freq\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v(\"1\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"opcache.fast_shutdown\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v(\"1\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"opcache.enable_cli\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v(\"1\")]),a._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"opcache.save_comments\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v(\"1\")]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"9\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"问题五\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题五\"}},[a._v(\"#\")]),a._v(\" \"),t(\"strong\",[a._v(\"问题五：\")])]),a._v(\" \"),t(\"p\",[t(\"code\",[a._v(\"该实例缺失了一些推荐的PHP模块。为提高性能和兼容性，我们强烈建议安装它们。imagick\")])]),a._v(\" \"),t(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),t(\"ol\",[t(\"li\",[a._v(\"安装ImageMagick\")])]),a._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[a._v(\"yum \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"install\")]),a._v(\" ImageMagick-devel\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[a._v(\"cd\")]),a._v(\" /root/lnmp1.5\\n./addons.sh \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"install\")]),a._v(\" imageMagick\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"3\")]),t(\"br\")])]),t(\"ol\",{attrs:{start:\"2\"}},[t(\"li\",[a._v(\"修改 \"),t(\"code\",[a._v(\"/usr/local/php/etc/php.ini\")]),a._v(\"，第一行加上：\")])]),a._v(\" \"),t(\"div\",{staticClass:\"language-ini line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-ini\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"extension\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),t(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v('\"'),t(\"span\",{pre:!0,attrs:{class:\"token inner-value\"}},[a._v(\"imagick.so\")]),a._v('\"')]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"问题六\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题六\"}},[a._v(\"#\")]),a._v(\" \"),t(\"strong\",[a._v(\"问题六：\")])]),a._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/nextcloud-problem-occ-db-convert-filecache-bigint.png\",alt:\"nextcloud-problem-occ db:convert-filecache-bigint\"}})]),a._v(\" \"),t(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[a._v(\"cd\")]),a._v(\" /home/wwwroot/cloud.yourdomain.com/\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"sudo\")]),a._v(\" -u www php occ db:convert-filecache-bigint\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[a._v(\"2\")]),t(\"br\")])]),t(\"p\",[a._v(\"其中\"),t(\"code\",[a._v(\"www是网站用户名\")]),a._v(\"，视情况而定，\"),t(\"code\",[a._v(\"ls -l\")]),a._v(\" 可以查看用户名和用户组\")]),a._v(\" \"),t(\"h3\",{attrs:{id:\"问题七\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题七\"}},[a._v(\"#\")]),a._v(\" \"),t(\"strong\",[a._v(\"问题七：\")])]),a._v(\" \"),t(\"p\",[t(\"code\",[a._v(\"PHP内存限制低于建议值512MB.\")])]),a._v(\" \"),t(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),t(\"p\",[a._v(\"编辑 \"),t(\"code\",[a._v(\"/usr/local/php/etc/php.ini\")]),a._v(\"，将memory_limit改为512M\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-ini line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-ini\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token key attr-name\"}},[a._v(\"memory_limit\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),a._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token value attr-value\"}},[a._v(\"512M\")]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"问题八\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题八\"}},[a._v(\"#\")]),a._v(\" \"),t(\"strong\",[a._v(\"问题八：\")])]),a._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/nextcloud-problem-add-http-header.png\",alt:\"nextcloud-problem-add-http-header\"}})]),a._v(\" \"),t(\"p\",[t(\"img\",{attrs:{src:\"https://conimi.com/files/images/screenshots/nextcloud-problem-add-http-header-no-referrer.png\",alt:\"extcloud-problem-add-http-header-no-referrer\"}})]),a._v(\" \"),t(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),t(\"p\",[a._v(\"这五个header的问题是由重复配置造成的，在 \"),t(\"code\",[a._v(\"/usr/local/nginx/conf/vhost/cloud.yourdomain.conf\")]),a._v(\" 中把这些注释掉即可。\")]),a._v(\" \"),t(\"h3\",{attrs:{id:\"问题九\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题九\"}},[a._v(\"#\")]),a._v(\" \"),t(\"strong\",[a._v(\"问题九：\")])]),a._v(\" \"),t(\"p\",[t(\"code\",[a._v('HTTP的请求头 \"Strict-Transport-Security\" 未设置为至少 \"15552000\" 秒. 为了提高安全性，建议参照security tips ↗中的说明启用HSTS.')])]),a._v(\" \"),t(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),t(\"p\",[a._v(\"在 \"),t(\"code\",[a._v(\"/usr/local/nginx/conf/vhost/www.cloud.yourdomain.conf\")]),a._v(\" 中添加以下代码\")]),a._v(\" \"),t(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[t(\"code\",[a._v(\"add_header Strict-Transport-Security \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"max-age=15768000;preload;\"')]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\")])]),a._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[a._v(\"1\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"问题十\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题十\"}},[a._v(\"#\")]),a._v(\" \"),t(\"strong\",[a._v(\"问题十：\")])]),a._v(\" \"),t(\"p\",[t(\"code\",[a._v(\"一些文件没有通过完整性检查。了解如何解决该问题请查看我们的 文档。(无效文件列表… / 重新扫描…)\")])]),a._v(\" \"),t(\"p\",[a._v(\"解决方法：\")]),a._v(\" \"),t(\"p\",[a._v(\"暂时没有解决\")]),a._v(\" \"),t(\"h2\",{attrs:{id:\"参考资料\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考资料\"}},[a._v(\"#\")]),a._v(\" \"),t(\"strong\",[a._v(\"参考资料：\")])]),a._v(\" \"),t(\"ul\",[t(\"li\",[a._v(\"LNMP一键环境安装Fileinfo扩展组件支持的办法：\"),t(\"a\",{attrs:{href:\"http://www.laozuo.org/11801.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a._v(\"http://www.laozuo.org/11801.html\"),t(\"OutboundLink\")],1)]),a._v(\" \"),t(\"li\",[a._v(\"最新 LNMP1.5 搭建 NEXTCLOUD 私有云盘并配置 aria2c 下载：\"),t(\"a\",{attrs:{href:\"https://yalv.me/lnmp-nextcloud-aria2c/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a._v(\"https://yalv.me/lnmp-nextcloud-aria2c/\"),t(\"OutboundLink\")],1)]),a._v(\" \"),t(\"li\",[a._v(\"centos安装php扩展 imagick 报错：\"),t(\"a\",{attrs:{href:\"https://www.shiqidu.com/d/367\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a._v(\"https://www.shiqidu.com/d/367\"),t(\"OutboundLink\")],1)]),a._v(\" \"),t(\"li\",[a._v(\"nextcloud官方文档：\"),t(\"a\",{attrs:{href:\"https://docs.nextcloud.com/server/15/admin_manual/configuration_database/bigint_identifiers.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a._v(\"https://docs.nextcloud.com/server/15/admin_manual/configuration_database/bigint_identifiers.html\"),t(\"OutboundLink\")],1)]),a._v(\" \"),t(\"li\",[a._v(\"私有云NextCould + Caddy 的快速搭建：\"),t(\"a\",{attrs:{href:\"https://canmipai.com/index.php/2018/06/29/nextcould-caddy-setup/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a._v(\"https://canmipai.com/index.php/2018/06/29/nextcould-caddy-setup/\"),t(\"OutboundLink\")],1)])])])}),[],!1,null,null,null);s.default=n.exports}}]);","extractedComments":[]}